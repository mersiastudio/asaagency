<!DOCTYPE html>
<html>
<head>
	<title>sketch1</title>
	<style>
		html, body {
			margin: 0px;
			padding: 0;
			overflow: hidden;
			height: 100%;
			width: 100%;
			
			justify-content: center;
			align-items: center;
		}
  </style>

	<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.min.js"></script>
</head>
<body>

	<div id="sketch1"></div>
	
	<script>

let particles = [];
let numParticles = 300;
let colors = ['#FFCC00', '#FF8E43', '#8FB2FF']; //#FF8E43

function setup() {
  createCanvas(windowWidth, windowHeight);
  background("#ffffff");
  for (let i = 0; i < numParticles; i++) {
    particles.push(new Particle());
  }
}

function draw() {
  background("#f2f2f2");
  for (let i = 0; i < particles.length; i++) {
    particles[i].update();
    particles[i].display();
  }
}

function windowResized() {
  resizeCanvas(windowWidth, windowHeight);
}

class Particle {
  constructor() {
    this.position = createVector(random(width), random(height));
    this.velocity = createVector(random(-1, 1), random(-1, 1));
    this.acceleration = createVector();
    this.color = random(colors);
    this.size = random(5, 20);
    this.maxSpeed = 7;
    this.maxForce = 0.001;
    this.target = createVector(random(width), random(height));
  }

  update() {
    this.position.add(this.velocity);
    this.velocity.add(this.acceleration);
    this.velocity.limit(this.maxSpeed);
    this.acceleration.mult(0);
    let desired = p5.Vector.sub(this.target, this.position);
    let d = desired.mag();
    if (d < 100) {
      let m = map(d, 0, 100, 0, this.maxSpeed);
      desired.setMag(m);
    } else {
      desired.setMag(this.maxSpeed);
    }
    let steering = p5.Vector.sub(desired, this.velocity);
    steering.limit(this.maxForce);
    this.acceleration.add(steering);
    if (this.position.x > width || this.position.x < 0 || this.position.y > height || this.position.y < 0) {
      this.position = createVector(random(width), random(height));
    }
  }

  display() {
    noStroke();
    fill(this.color);
    ellipse(this.position.x, this.position.y, this.size);
  }
}

new p5(sketch1, 'sketch1');
	</script>

</body>
</html>
